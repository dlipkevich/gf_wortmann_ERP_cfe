<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИсточникДанных1</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetQuery">
		<name>НаборДанных1</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>Склад</dataPath>
			<field>Склад</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Организация</dataPath>
			<field>Организация</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КМ</dataPath>
			<field>КМ</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Резерв</dataPath>
			<field>Резерв</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЕдиницаИзмерения</dataPath>
			<field>ЕдиницаИзмерения</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Единица измерения</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Клиент</dataPath>
			<field>Клиент</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Клиент</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Отгрузить</dataPath>
			<field>Отгрузить</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Отгрузить</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоДнейХранения</dataPath>
			<field>КоличествоДнейХранения</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество дней хранения</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>АдресДоставки</dataPath>
			<field>АдресДоставки</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СтатусКМ</dataPath>
			<field>СтатусКМ</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Статус КМ</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Заказ</dataPath>
			<field>Заказ</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Заказ</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СостояниеКороба</dataPath>
			<field>СостояниеКороба</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Состояние короба</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДокументПоступления</dataPath>
			<field>ДокументПоступления</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Документ поступления</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>УпаковочныйЛистСсылка</dataPath>
			<field>УпаковочныйЛистСсылка</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Упаковочный лист ссылка</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоОстаток</dataPath>
			<field>КоличествоОстаток</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоНоменклатуры</dataPath>
			<field>КоличествоНоменклатуры</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество номенклатуры</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Цена</dataPath>
			<field>Цена</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Стоимость</dataPath>
			<field>Стоимость</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Стоимость</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДатаПрайсЛиста</dataPath>
			<field>ДатаПрайсЛиста</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Дата прайс листа</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Скидка</dataPath>
			<field>Скидка</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Скидка</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Контрагент</dataPath>
			<field>Контрагент</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДоговорКонтрагента</dataPath>
			<field>ДоговорКонтрагента</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>БлокировкиОтгрузок</dataPath>
			<field>БлокировкиОтгрузок</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Блокировки отгрузок</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Артикул</dataPath>
			<field>Артикул</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Артикул</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Партнер</dataPath>
			<field>Партнер</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Договор</dataPath>
			<field>Договор</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДействующийЛимит</dataPath>
			<field>ДействующийЛимит</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Действующий лимит</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДокументПоступленияНомер</dataPath>
			<field>ДокументПоступленияНомер</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Документ поступления номер</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>УпаковочныйЛистНомер</dataPath>
			<field>УпаковочныйЛистНомер</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Упаковочный лист номер</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НомерАдреса</dataPath>
			<field>НомерАдреса</field>
		</field>
		<dataSource>ИсточникДанных1</dataSource>
		<query>ВЫБРАТЬ
	гф_ДвижениеКодовМаркировкиОрганизацииОстатки.КМ КАК МультиупаковкаКМ,
	гф_ДвижениеКодовМаркировкиОрганизацииОстатки.КоличествоОстаток КАК КоличествоОстаток,
	гф_ДвижениеКодовМаркировкиОрганизацииОстатки.Склад КАК Склад
ПОМЕСТИТЬ ДвижениеКМ
ИЗ
	РегистрНакопления.гф_ДвижениеКодовМаркировкиОрганизации.Остатки КАК гф_ДвижениеКодовМаркировкиОрганизацииОстатки
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ДвижениеКМ.МультиупаковкаКМ КАК МультиупаковкаКМ,
	ДвижениеКМ.КоличествоОстаток КАК КоличествоОстаток,
	ШтрихкодыУпаковокТоваров.ЗначениеШтрихкода КАК ЗначениеШтрихкода,
	ДвижениеКМ.Склад КАК Склад,
	ШтрихкодыУпаковокТоваров.гф_Автодействие КАК гф_Автодействие
ПОМЕСТИТЬ ДвижениеКМШтрихкоды
ИЗ
	ДвижениеКМ КАК ДвижениеКМ
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ШтрихкодыУпаковокТоваров КАК ШтрихкодыУпаковокТоваров
		ПО ДвижениеКМ.МультиупаковкаКМ = ШтрихкодыУпаковокТоваров.Ссылка
ГДЕ
	ШтрихкодыУпаковокТоваров.ТипУпаковки = &amp;ТипУпаковки
	И НЕ ШтрихкодыУпаковокТоваров.гф_Автодействие = ЗНАЧЕНИЕ(Перечисление.гф_АвтодействияКМ.Подготовлен)
{ГДЕ
	(ДвижениеКМ.Склад = &amp;Склад)}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ДвижениеКМШтрихкоды.МультиупаковкаКМ КАК МультиупаковкаКМ,
	ДвижениеКМШтрихкоды.КоличествоОстаток КАК КоличествоОстаток,
	ДвижениеКМШтрихкоды.ЗначениеШтрихкода КАК ЗначениеШтрихкода,
	УпаковочныйЛист.гф_Поставка КАК ДокументПоступления,
	УпаковочныйЛист.гф_Заказ КАК Заказ,
	УпаковочныйЛист.Ссылка КАК УпаковочныйЛистСсылка,
	УпаковочныйЛист.гф_СостояниеКороба КАК СостояниеКороба,
	УпаковочныйЛист.Код КАК Код,
	УпаковочныйЛист.гф_Агрегация КАК гф_Агрегация,
	УпаковочныйЛист.Дата КАК Дата,
	УпаковочныйЛист.гф_Комплектация КАК Артикул
ПОМЕСТИТЬ УпаковочныйЛистДанные
ИЗ
	ДвижениеКМШтрихкоды КАК ДвижениеКМШтрихкоды
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.УпаковочныйЛист КАК УпаковочныйЛист
		ПО ДвижениеКМШтрихкоды.ЗначениеШтрихкода = УпаковочныйЛист.Код
ГДЕ
	НЕ УпаковочныйЛист.гф_Заказ = ЗНАЧЕНИЕ(Документ.ЗаказКлиента.ПустаяСсылка)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЗаказКлиента.Партнер КАК Клиент,
	ЗаказКлиента.гф_АдресДоставки КАК АдресДоставки,
	ЗаказКлиента.Склад КАК Склад,
	ЗаказКлиента.Договор КАК Договор,
	УпаковочныйЛистДанные.ДокументПоступления КАК ДокументПоступления,
	УпаковочныйЛистДанные.Заказ КАК Заказ,
	УпаковочныйЛистДанные.УпаковочныйЛистСсылка КАК УпаковочныйЛистСсылка,
	УпаковочныйЛистДанные.СостояниеКороба КАК СостояниеКороба,
	УпаковочныйЛистДанные.КоличествоОстаток КАК КоличествоОстаток,
	ВЫРАЗИТЬ("Упак." КАК СТРОКА(5)) КАК ЕдиницаИзмерения,
	РАЗНОСТЬДАТ(УпаковочныйЛистДанные.Дата, &amp;ТекущаяДата, ДЕНЬ) КАК КоличествоДнейХранения,
	УпаковочныйЛистДанные.МультиупаковкаКМ КАК МультиупаковкаКМ,
	УпаковочныйЛистДанные.ЗначениеШтрихкода КАК ЗначениеШтрихкода,
	УпаковочныйЛистДанные.гф_Агрегация КАК гф_Агрегация,
	"" КАК ШтрихкодНоменклатуры,
	0 КАК КоличествоНоменклатуры,
	ЗаказКлиента.Организация КАК Организация,
	УпаковочныйЛистДанные.Артикул КАК Артикул,
	гф_АдресаДоставки.НомерАдреса КАК НомерАдреса
ПОМЕСТИТЬ УпаковочныйЛистДанныеЗаказов
ИЗ
	УпаковочныйЛистДанные КАК УпаковочныйЛистДанные
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ЗаказКлиента КАК ЗаказКлиента
		ПО УпаковочныйЛистДанные.Заказ = ЗаказКлиента.Ссылка
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.гф_АдресаДоставки КАК гф_АдресаДоставки
		ПО (ЗаказКлиента.гф_АдресДоставки = гф_АдресаДоставки.Ссылка)
{ГДЕ
	(ЗаказКлиента.Партнер = &amp;Клиент)}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	УпаковочныйЛистДанныеЗаказов.Клиент КАК Клиент,
	УпаковочныйЛистДанныеЗаказов.АдресДоставки КАК АдресДоставки,
	УпаковочныйЛистДанныеЗаказов.Склад КАК Склад,
	УпаковочныйЛистДанныеЗаказов.ДокументПоступления КАК ДокументПоступления,
	УпаковочныйЛистДанныеЗаказов.Заказ КАК Заказ,
	УпаковочныйЛистДанныеЗаказов.УпаковочныйЛистСсылка КАК УпаковочныйЛистСсылка,
	"" КАК СостояниеКороба,
	0 КАК КоличествоОстаток,
	"" КАК ЕдиницаИзмерения,
	"" КАК КоличествоДнейХранения,
	ШтрихкодыУпаковокТоваровВложенныеШтрихкоды.Штрихкод КАК ШтрихкодНоменклатуры,
	УпаковочныйЛистДанныеЗаказов.Организация КАК Организация,
	УпаковочныйЛистДанныеЗаказов.Артикул КАК Артикул,
	УпаковочныйЛистДанныеЗаказов.Договор КАК Договор,
	УпаковочныйЛистДанныеЗаказов.НомерАдреса КАК НомерАдреса
ПОМЕСТИТЬ ШтрихкодыНоменклатуры
ИЗ
	УпаковочныйЛистДанныеЗаказов КАК УпаковочныйЛистДанныеЗаказов
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ШтрихкодыУпаковокТоваров.ВложенныеШтрихкоды КАК ШтрихкодыУпаковокТоваровВложенныеШтрихкоды
		ПО (УпаковочныйЛистДанныеЗаказов.гф_Агрегация = ШтрихкодыУпаковокТоваровВложенныеШтрихкоды.Ссылка)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ШтрихкодыНоменклатуры.Клиент КАК Клиент,
	ШтрихкодыНоменклатуры.АдресДоставки КАК АдресДоставки,
	ШтрихкодыНоменклатуры.Склад КАК Склад,
	ШтрихкодыНоменклатуры.ДокументПоступления КАК ДокументПоступления,
	ШтрихкодыНоменклатуры.Заказ КАК Заказ,
	ШтрихкодыНоменклатуры.УпаковочныйЛистСсылка КАК УпаковочныйЛистСсылка,
	ШтрихкодыНоменклатуры.СостояниеКороба КАК СостояниеКороба,
	ШтрихкодыНоменклатуры.КоличествоОстаток КАК КоличествоОстаток,
	ШтрихкодыНоменклатуры.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	ШтрихкодыНоменклатуры.КоличествоДнейХранения КАК КоличествоДнейХранения,
	ШтрихкодыНоменклатуры.ШтрихкодНоменклатуры КАК ШтрихкодНоменклатуры,
	ШтрихкодыУпаковокТоваров.Номенклатура КАК Номенклатура,
	ШтрихкодыУпаковокТоваров.Характеристика КАК Характеристика,
	ВЫБОР
		КОГДА ШтрихкодыУпаковокТоваров.гф_Статус ЕСТЬ NULL
			ТОГДА "Не пустой"
		ИНАЧЕ ВЫБОР
				КОГДА ШтрихкодыУпаковокТоваров.гф_Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыКодовМаркировкиИСМП.ПустаяСсылка)
					ТОГДА "Не пустой"
				ИНАЧЕ ШтрихкодыУпаковокТоваров.гф_Статус
			КОНЕЦ
	КОНЕЦ КАК СтатусКМ,
	1 КАК КоличествоНоменклатуры,
	ШтрихкодыНоменклатуры.Организация КАК Организация,
	ШтрихкодыНоменклатуры.Артикул КАК Артикул,
	ШтрихкодыНоменклатуры.Договор КАК Договор,
	ШтрихкодыНоменклатуры.НомерАдреса КАК НомерАдреса
ПОМЕСТИТЬ ШтрихкодыНоменклатурыСтатус
ИЗ
	ШтрихкодыНоменклатуры КАК ШтрихкодыНоменклатуры
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ШтрихкодыУпаковокТоваров КАК ШтрихкодыУпаковокТоваров
		ПО (ШтрихкодыНоменклатуры.ШтрихкодНоменклатуры = ШтрихкодыУпаковокТоваров.Ссылка)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ШтрихкодыНоменклатурыСтатус.Клиент КАК Клиент,
	ШтрихкодыНоменклатурыСтатус.АдресДоставки КАК АдресДоставки,
	ШтрихкодыНоменклатурыСтатус.Склад КАК Склад,
	ШтрихкодыНоменклатурыСтатус.ДокументПоступления КАК ДокументПоступления,
	ШтрихкодыНоменклатурыСтатус.Заказ КАК Заказ,
	ШтрихкодыНоменклатурыСтатус.УпаковочныйЛистСсылка КАК УпаковочныйЛистСсылка,
	ШтрихкодыНоменклатурыСтатус.СостояниеКороба КАК СостояниеКороба,
	ШтрихкодыНоменклатурыСтатус.КоличествоОстаток КАК КоличествоОстаток,
	ШтрихкодыНоменклатурыСтатус.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	ШтрихкодыНоменклатурыСтатус.КоличествоДнейХранения КАК КоличествоДнейХранения,
	ШтрихкодыНоменклатурыСтатус.ШтрихкодНоменклатуры КАК ШтрихкодНоменклатуры,
	ШтрихкодыНоменклатурыСтатус.Номенклатура КАК Номенклатура,
	ШтрихкодыНоменклатурыСтатус.Характеристика КАК Характеристика,
	ШтрихкодыНоменклатурыСтатус.СтатусКМ КАК СтатусКМ,
	СУММА(ШтрихкодыНоменклатурыСтатус.КоличествоНоменклатуры) КАК КоличествоНоменклатуры,
	ЗаказКлиентаТовары.Цена КАК Цена,
	ШтрихкодыНоменклатурыСтатус.Организация КАК Организация,
	ШтрихкодыНоменклатурыСтатус.Артикул КАК Артикул,
	ШтрихкодыНоменклатурыСтатус.Договор КАК Договор,
	ШтрихкодыНоменклатурыСтатус.НомерАдреса КАК НомерАдреса
ПОМЕСТИТЬ ЗаказНоменклатураХарактеристика
ИЗ
	ШтрихкодыНоменклатурыСтатус КАК ШтрихкодыНоменклатурыСтатус
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ЗаказКлиента.Товары КАК ЗаказКлиентаТовары
		ПО (ШтрихкодыНоменклатурыСтатус.Заказ = ЗаказКлиентаТовары.Ссылка)
			И (ШтрихкодыНоменклатурыСтатус.Номенклатура = ЗаказКлиентаТовары.Номенклатура)
			И (ШтрихкодыНоменклатурыСтатус.Характеристика = ЗаказКлиентаТовары.Характеристика)

СГРУППИРОВАТЬ ПО
	ШтрихкодыНоменклатурыСтатус.Клиент,
	ШтрихкодыНоменклатурыСтатус.АдресДоставки,
	ШтрихкодыНоменклатурыСтатус.Склад,
	ШтрихкодыНоменклатурыСтатус.ДокументПоступления,
	ШтрихкодыНоменклатурыСтатус.Заказ,
	ШтрихкодыНоменклатурыСтатус.УпаковочныйЛистСсылка,
	ШтрихкодыНоменклатурыСтатус.СостояниеКороба,
	ШтрихкодыНоменклатурыСтатус.КоличествоОстаток,
	ШтрихкодыНоменклатурыСтатус.ЕдиницаИзмерения,
	ШтрихкодыНоменклатурыСтатус.КоличествоДнейХранения,
	ШтрихкодыНоменклатурыСтатус.ШтрихкодНоменклатуры,
	ШтрихкодыНоменклатурыСтатус.Номенклатура,
	ШтрихкодыНоменклатурыСтатус.Характеристика,
	ШтрихкодыНоменклатурыСтатус.СтатусКМ,
	ЗаказКлиентаТовары.Цена,
	ШтрихкодыНоменклатурыСтатус.Организация,
	ШтрихкодыНоменклатурыСтатус.Артикул,
	ШтрихкодыНоменклатурыСтатус.Договор,
	ШтрихкодыНоменклатурыСтатус.НомерАдреса
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЛОЖЬ КАК Отгрузить,
	УпаковочныйЛистДанныеЗаказов.Клиент КАК Клиент,
	УпаковочныйЛистДанныеЗаказов.АдресДоставки КАК АдресДоставки,
	УпаковочныйЛистДанныеЗаказов.Склад КАК Склад,
	УпаковочныйЛистДанныеЗаказов.ДокументПоступления КАК ДокументПоступления,
	УпаковочныйЛистДанныеЗаказов.Заказ КАК Заказ,
	УпаковочныйЛистДанныеЗаказов.УпаковочныйЛистСсылка КАК УпаковочныйЛистСсылка,
	УпаковочныйЛистДанныеЗаказов.СостояниеКороба КАК СостояниеКороба,
	УпаковочныйЛистДанныеЗаказов.КоличествоОстаток КАК КоличествоОстаток,
	УпаковочныйЛистДанныеЗаказов.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	УпаковочныйЛистДанныеЗаказов.КоличествоДнейХранения КАК КоличествоДнейХранения,
	ЗаказНоменклатураХарактеристика.СтатусКМ КАК СтатусКМ,
	ЗаказНоменклатураХарактеристика.КоличествоНоменклатуры КАК КоличествоНоменклатуры,
	ЗаказНоменклатураХарактеристика.Цена КАК Цена,
	ЗаказНоменклатураХарактеристика.Цена * ЗаказНоменклатураХарактеристика.КоличествоНоменклатуры КАК Стоимость,
	0 КАК Скидка,
	&amp;ТекущаяДата КАК ДатаПрайсЛиста,
	ЕСТЬNULL(гф_ПричиныБлокировокСрезПоследнихПоДоговору.Заблокирован, ЛОЖЬ) КАК БлокировкиОтгрузок,
	ЗаказНоменклатураХарактеристика.Организация КАК Организация,
	ЗаказНоменклатураХарактеристика.Артикул КАК Артикул,
	ЗаказНоменклатураХарактеристика.Договор КАК Договор,
	0 КАК ДействующийЛимит,
	ЗаказНоменклатураХарактеристика.НомерАдреса КАК НомерАдреса,
	NULL КАК ДокументПоступленияНомер,
	NULL КАК УпаковочныйЛистНомер
ИЗ
	УпаковочныйЛистДанныеЗаказов КАК УпаковочныйЛистДанныеЗаказов
		ЛЕВОЕ СОЕДИНЕНИЕ ЗаказНоменклатураХарактеристика КАК ЗаказНоменклатураХарактеристика
		ПО (УпаковочныйЛистДанныеЗаказов.УпаковочныйЛистСсылка = ЗаказНоменклатураХарактеристика.УпаковочныйЛистСсылка)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.гф_ПричиныБлокировок.СрезПоследних(&amp;Период, ) КАК гф_ПричиныБлокировокСрезПоследнихПоДоговору
		ПО (УпаковочныйЛистДанныеЗаказов.Клиент = гф_ПричиныБлокировокСрезПоследнихПоДоговору.Контрагент)
			И (УпаковочныйЛистДанныеЗаказов.Договор = гф_ПричиныБлокировокСрезПоследнихПоДоговору.ДоговорКонтрагента)
			И (УпаковочныйЛистДанныеЗаказов.Организация = гф_ПричиныБлокировокСрезПоследнихПоДоговору.Организация)

СГРУППИРОВАТЬ ПО
	УпаковочныйЛистДанныеЗаказов.Клиент,
	УпаковочныйЛистДанныеЗаказов.АдресДоставки,
	УпаковочныйЛистДанныеЗаказов.Склад,
	УпаковочныйЛистДанныеЗаказов.ДокументПоступления,
	УпаковочныйЛистДанныеЗаказов.Заказ,
	УпаковочныйЛистДанныеЗаказов.УпаковочныйЛистСсылка,
	УпаковочныйЛистДанныеЗаказов.СостояниеКороба,
	УпаковочныйЛистДанныеЗаказов.КоличествоОстаток,
	УпаковочныйЛистДанныеЗаказов.ЕдиницаИзмерения,
	УпаковочныйЛистДанныеЗаказов.КоличествоДнейХранения,
	ЗаказНоменклатураХарактеристика.СтатусКМ,
	ЗаказНоменклатураХарактеристика.КоличествоНоменклатуры,
	ЗаказНоменклатураХарактеристика.Цена,
	гф_ПричиныБлокировокСрезПоследнихПоДоговору.Заблокирован,
	ЗаказНоменклатураХарактеристика.Организация,
	ЗаказНоменклатураХарактеристика.Артикул,
	ЗаказНоменклатураХарактеристика.Договор,
	ЗаказНоменклатураХарактеристика.НомерАдреса</query>
	</dataSet>
	<totalField>
		<dataPath>КоличествоОстаток</dataPath>
		<expression>Сумма(КоличествоОстаток)</expression>
	</totalField>
	<totalField>
		<dataPath>КоличествоНоменклатуры</dataPath>
		<expression>Сумма(КоличествоНоменклатуры)</expression>
	</totalField>
	<totalField>
		<dataPath>Цена</dataPath>
		<expression>Сумма(Цена*КоличествоНоменклатуры)</expression>
	</totalField>
	<parameter>
		<name>Период</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Период</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>ТекущаяДата</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Текущая дата</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>ТипУпаковки</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Тип упаковки</v8:content>
			</v8:item>
		</title>
		<value xsi:nil="true"/>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>Клиент</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Клиент</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Партнеры</v8:Type>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>Склад</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Склад</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Склады</v8:Type>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>true</useRestriction>
	</parameter>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="xs:string">Основной</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:use>false</dcsset:use>
					<dcsset:field>БлокировкиОтгрузок</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>УпаковочныйЛистСсылка</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СостояниеКороба</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Артикул</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КоличествоОстаток</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ЕдиницаИзмерения</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КоличествоДнейХранения</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СтатусКМ</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КоличествоНоменклатуры</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДатаПрайсЛиста</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Скидка</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Стоимость</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Цена</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Организация</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДействующийЛимит</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Договор</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>НомерАдреса</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДокументПоступленияНомер</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>УпаковочныйЛистНомер</dcsset:field>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>ТипУпаковки</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DesignTimeValue">Перечисление.ТипыУпаковок.МультитоварнаяУпаковка</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Клиент</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DesignTimeValue">Справочник.Партнеры.НеизвестныйПартнер</dcscor:value>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ГоризонтальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВертикальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:use>false</dcsset:use>
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Отгрузить</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Клиент</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>БлокировкиОтгрузок</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:use>false</dcsset:use>
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>АдресДоставки</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
					<dcsset:item xsi:type="dcsset:StructureItemGroup">
						<dcsset:use>false</dcsset:use>
						<dcsset:groupItems>
							<dcsset:item xsi:type="dcsset:GroupItemField">
								<dcsset:field>Склад</dcsset:field>
								<dcsset:groupType>Items</dcsset:groupType>
								<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
								<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
								<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
							</dcsset:item>
						</dcsset:groupItems>
						<dcsset:order>
							<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
						</dcsset:order>
						<dcsset:selection>
							<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
						</dcsset:selection>
						<dcsset:item xsi:type="dcsset:StructureItemGroup">
							<dcsset:use>false</dcsset:use>
							<dcsset:groupItems>
								<dcsset:item xsi:type="dcsset:GroupItemField">
									<dcsset:field>ДокументПоступления</dcsset:field>
									<dcsset:groupType>Items</dcsset:groupType>
									<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
									<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
									<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
								</dcsset:item>
							</dcsset:groupItems>
							<dcsset:order>
								<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
							</dcsset:order>
							<dcsset:selection>
								<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
							</dcsset:selection>
							<dcsset:item xsi:type="dcsset:StructureItemGroup">
								<dcsset:use>false</dcsset:use>
								<dcsset:groupItems>
									<dcsset:item xsi:type="dcsset:GroupItemField">
										<dcsset:field>Заказ</dcsset:field>
										<dcsset:groupType>Items</dcsset:groupType>
										<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
										<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
										<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
									</dcsset:item>
								</dcsset:groupItems>
								<dcsset:order>
									<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
								</dcsset:order>
								<dcsset:selection>
									<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
								</dcsset:selection>
								<dcsset:item xsi:type="dcsset:StructureItemGroup">
									<dcsset:use>false</dcsset:use>
									<dcsset:order>
										<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
									</dcsset:order>
									<dcsset:selection>
										<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
									</dcsset:selection>
								</dcsset:item>
							</dcsset:item>
						</dcsset:item>
					</dcsset:item>
				</dcsset:item>
			</dcsset:item>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Отгрузить</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Клиент</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>АдресДоставки</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>БлокировкиОтгрузок</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>Склад</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>ДокументПоступления</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>Заказ</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
					<dcsset:item xsi:type="dcsset:StructureItemGroup">
						<dcsset:order>
							<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
						</dcsset:order>
						<dcsset:selection>
							<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
						</dcsset:selection>
					</dcsset:item>
				</dcsset:item>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>