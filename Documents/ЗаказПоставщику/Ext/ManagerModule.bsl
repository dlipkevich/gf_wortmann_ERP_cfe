

&ИзменениеИКонтроль("ДобавитьКомандыПечати")
Процедура гф_ДобавитьКомандыПечати(КомандыПечати)

	// Заказ поставщику
	КомандаПечати = КомандыПечати.Добавить();
	КомандаПечати.МенеджерПечати = "Обработка.ПечатьЗаказовНаТоварыУслуги";
	КомандаПечати.Идентификатор = "ЗаказПоставщику";
	КомандаПечати.Представление = НСтр("ru = 'Заказ поставщику';
	|en = 'Purchase Order'");
	КомандаПечати.ПроверкаПроведенияПередПечатью = Истина;
	КомандаПечати.ДополнительныеПараметры.Вставить("Тип", "ЗаказПоставщику");

	Если ПолучитьФункциональнуюОпцию("ИспользоватьНоменклатуруПартнеров") Тогда

		// Заказ поставщику по данным поставщика
		КомандаПечати = КомандыПечати.Добавить();
		КомандаПечати.МенеджерПечати = "Обработка.ПечатьЗаказовНаТоварыУслуги";
		КомандаПечати.Идентификатор = "ЗаказПоставщику";
		КомандаПечати.Представление = НСтр("ru = 'Заказ поставщику по данным поставщика';
		|en = 'Vendor reference'");
		КомандаПечати.ПроверкаПроведенияПередПечатью = Истина;
		КомандаПечати.ДополнительныеПараметры.Вставить("Тип", "ЗаказПоставщикуПоДаннымПоставщика");

	КонецЕсли;
	#Вставка
	//++ ЕсиповАВ
	КомандаПечати = КомандыПечати.Добавить();
	КомандаПечати.МенеджерПечати = "Обработка.гф_ПечатьЗаказов";
	КомандаПечати.Идентификатор = "ЗаказПоставщикуСКартинками";
	КомандаПечати.Представление = НСтр("ru = 'Заказ поставщику с картинками';
	|en = 'Purchase Order with pictures'");
	КомандаПечати.ПроверкаПроведенияПередПечатью = Истина;
	КомандаПечати.ДополнительныеПараметры.Вставить("Тип", "ЗаказПоставщикуСКартинками");
	
	КомандаПечати = КомандыПечати.Добавить();
	КомандаПечати.МенеджерПечати = "Обработка.гф_ПечатьЗаказов";
	КомандаПечати.Идентификатор = "ЗаказПоставщикуСКартинкамиРазмеры";
	КомандаПечати.Представление = НСтр("ru = 'Заказ поставщику с картинками размеры';
	|en = 'Purchase Order with pictures size'");
	КомандаПечати.ПроверкаПроведенияПередПечатью = Истина;
	КомандаПечати.ДополнительныеПараметры.Вставить("Тип", "ЗаказПоставщикуСКартинкамиРазмеры");
	//-- ЕсиповАВ
	#КонецВставки

КонецПроцедуры
#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область СлужебныеПроцедурыИФункции

#Область Печать

#КонецОбласти

#Область Прочее

Функция УпаковочныеЛистыСозданыВсе(ОбъектИлиСсылка, ВариантКомплектации, КоличествоКоробов) Экспорт
	тзIDКоробов =  ОбъектИлиСсылка.гф_IDКоробов.Выгрузить(); 
	Отбор = Новый Структура;
	Отбор.Вставить("ВариантКомплектации", ВариантКомплектации);
	
	МассивСтрокПоВарианту = тзIDКоробов.НайтиСтроки(Отбор);
	
	Если МассивСтрокПоВарианту.Количество() = КоличествоКоробов Тогда
		Возврат Истина;
	Иначе
		Возврат Ложь;
	КонецЕсли;
КонецФункции

Функция ОпределитьГраницуСчета(ОбъектИлиСсылка, Эл) Экспорт
	
	тзIDКоробов =  ОбъектИлиСсылка.гф_IDКоробов.Выгрузить(); 
	Отбор = Новый Структура;
	Отбор.Вставить("ВариантКомплектации", Эл.ВариантКомплектации);
	
	МассивСтрокПоВарианту = тзIDКоробов.НайтиСтроки(Отбор);
	
	Если МассивСтрокПоВарианту.Количество() > 0 Тогда 
		Возврат Эл.КоличествоКоробов - МассивСтрокПоВарианту.Количество();
	Иначе
		Возврат Эл.КоличествоКоробов;
	КонецЕсли;
	
КонецФункции

#КонецОбласти

#КонецОбласти

#КонецЕсли